# Claude の開発に関するガイドライン

## 基本原則

### コミュニケーション

- 常に日本語で会話する

### コード理解

- ファイルは必ず全文を読む（既存コードの重複やアーキテクチャの誤解を防ぐため）

### try exception の使用禁止

- **特別な事情がない限り、try exception の利用は禁止**
- エラーで落ちるべきケースは落とす

### コミット戦略

- コミットは小さく、意味のある単位で行う
- 大きなタスクは複数のマイルストーンに分割し、各マイルストーン完了後にコミット
- コミットは`/commit`コマンドを使用

### ブランチ戦略

- 修正・新規機能追加の際は必ずブランチを切る
- ブランチ名: `feature/機能名` または `bugfix/バグ名`

### Pull Request

- **PRのマージはユーザーの明示的な指示がない限り行わない**
- PR作成・レビュー・修正は自発的に行ってよい

### テスト駆動開発（TDD）

1. 期待される入出力に基づきテストを作成
2. テストを実行し失敗を確認
3. テストが正しいことを確認したらコミット
4. テストをパスさせる実装を進める
5. すべてのテストが通過するまで繰り返す

### テストレイヤー

- **ユニットテスト**: 網羅性はここで担保。モックは外部サービス依存部分のみに限定

### ライブラリの取り扱い

- 外部ライブラリを使う際は、最新の構文と使用法をウェブ検索で確認
- 「動かないからスキップ」せず、構文やパターンの誤りを疑う

### コード品質

- 大きな変更後は必ずリンターおよび型チェックを実行
- コードは適切にファイル分割し、可読性を最優先に

### 関数設計

- **単一責任**: 関数・クラスは1つの責任のみ持つ
- **長さ制限**: 1関数は20-30行以内を目安
- **引数制限**: 3-4個以内、多い場合はデータクラスでまとめる
- **純粋関数推奨**: 副作用のない関数を可能な限り作成

### 実装方針

- 「ダミー実装」は不要、実際に動く形で実装

## タスク管理

### タスク理解

- 新しいタスクを始める際は、まず内容を明確に理解
- 不明点は誤解したまま進めず、必ず確認

### 計画立案

- タスク着手前にアーキテクチャを把握し、計画を立て、ユーザーの承認を得る

### 変更管理

- 大規模なリファクタリングは、明確な指示がない限り行わない

### 問題解決

- 同じ問題が繰り返す場合は根本原因を突き止める
- 当てずっぽうに試したり投げ出したりしない

## エンジニアとしての姿勢

### UI/UX 設計

- 美しさと使いやすさを両立し、ベストプラクティスを守る
- インタラクションパターンやマイクロインタラクションに配慮

### タスク分割

- スコープが大きすぎる場合は小さなサブタスクに分割
- 分割が難しい場合はユーザーに働きかけてタスクを細分化
